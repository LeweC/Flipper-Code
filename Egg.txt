+--------------------------------------------------------------------+
|
|
+--------------------------------------------------------------------+

+--------------------------------------------------------------------+
|	Setup
|	XL430 		--> flex/extend fingers
|	XL330 ID 1	--> flex/extend thumb
|	XL330 ID 2	--> rotate fingers
|
+--------------------------------------------------------------------+

#INIT
	do
		2 -->xNUM
		1 2 -->xENABLE
		1 -->ENABLE
;

#HOME_ROTATE_FINGERS
	after 
		INIT
	do 
		Rotate
	until 
		STOP_REACHED_FR
;

#HOME_EXTEND_THUMB
	after 
		HOME_ROTATE_FINGERS
	do 
		ExtendThumb
	until 
		STOP_REACHED_TE
;

#HOME_EXTEND_FINGERS
	after 
		
	do 
		
	until 
		STOP_REACHED_FE
;

#READY 
	after 
		HOME_ROTATE_FINGERS
	do 
		0 2 -->xMOTOR
;

#GRAB
;

+--------------------------------------------------------------------+
|
+--------------------------------------------------------------------+

:Rotate
	1 -->motorDirection 
	50 -->motorSpeed
	motorDirection motorSpeed * 2 -->xMOTOR
;

:STOP_REACHED_FR
	counter 1 + -->counter 
	2 xVELOCITY abs 0.01 < 
	0 
	counter 10 > IF
;
				
+--------------------------------------------------------------------+
| Helper Functions
+--------------------------------------------------------------------+			
				
:IF -->f f ! * swap f * + ;				     
:! 0 = ;